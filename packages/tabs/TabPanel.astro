---
import { context } from "@astro-aria/context";
import { hasFocusableElement } from "./hasFocusableElement";

const { id = "$id", ...nodeProps } = Astro.props;

const html = await Astro.slots.render("default");
---

<div
  role="tabpanel"
  id={`tabpanel:${context("id")}:${id}`}
  aria-labelledby={`tab:${context("id")}:${id}`}
  tabindex={hasFocusableElement(html) ? "-1" : "0"}
  hidden={context("value", id)}
  data-state={context("value", id)}
  {...nodeProps}
><Fragment set:html={html} /></div>
